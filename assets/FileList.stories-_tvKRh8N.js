import{j as s}from"./jsx-runtime-DiklIkkE.js";import{r as i}from"./index-DRjF_FHU.js";import{P as Q}from"./PageShell-C9jiX08o.js";import{P as ue}from"./PageNav-D7dIpawk.js";import{L as pe}from"./ListHeader-BvWNZaQs.js";import{T as K}from"./TableListItem-dzNGTwOc.js";import{C as ge}from"./Card-C2lVMwJq.js";import{B as fe}from"./Button-DR1DBuRh.js";import"./Sidebar-DIpisecJ.js";import"./Icon-CfPs8lnx.js";import"./Tooltip-p54vDDUe.js";import"./Popover-OT7etBEe.js";import"./colors-CUQOl70L.js";import"./TopHeader-Cb2FF6HH.js";import"./Badge-BTb2MvAY.js";import"./Dropdown-BQT8-cPZ.js";import"./MenuItem-cFQSHnm_.js";import"./Switch-Biwu3wdI.js";import"./Checkbox-CfK9XmaB.js";import"./Avatar-CgqWibtJ.js";import"./StarIcon-BtetS-2M.js";function he(a){const o=i.useRef(null),h=a||o,[l,r]=i.useState(6);return i.useEffect(()=>{const b=h.current;if(!b)return;const w=new ResizeObserver(N=>{var v;const p=((v=N[0])==null?void 0:v.contentRect.width)??0;let c;p<672?c=0:p<896?c=2:p<1024?c=4:c=6,r(c)});return w.observe(b),()=>w.disconnect()},[h]),{cols:l,containerRef:o}}const Ke={title:"Pages/File List",component:Q,parameters:{layout:"fullscreen",backgrounds:{default:"light"}}},_=[{id:"1",name:"Alex Carter",type:"Personal Account",initials:"AC"},{id:"2",name:"Whisk",type:"Organization",initials:"WH"}],Z=[{id:"recent",label:"Recent"},{id:"your-files",label:"Your files"},{id:"shared",label:"Shared with you"},{id:"esign",label:"eSign inbox"}],k=[{iconName:"folder",title:"Employment Agreements",subtitle:"8 files in folder",metaValues:["Folder","1 minute ago","3 minutes ago","3 days ago"],starred:!0},{iconName:"folder",title:"Correspondance",subtitle:"8 files in folder",metaValues:["Folder","1 minute ago","5 minutes ago","3 days ago"]},{iconName:"file-text",title:"Service Contract Template",subtitle:"Template for client service contracts",visibility:"public",starCount:"17K",metaValues:["Folder","1 minute ago","10 minutes ago","3 days ago"]},{iconName:"file-text",title:"Service Contract Template",subtitle:"Template for client service contracts",visibility:"public",starCount:"17K",spam:!0,metaValues:["Folder","1 minute ago","10 minutes ago","3 days ago"]},{iconName:"file-text",title:"Service Design Agreement",subtitle:"Contract for design and delivery",visibility:"public",starCount:"17K",metaValues:["Folder","1 minute ago","3 hours ago","3 days ago"]},{iconName:"file-text",title:"Client Engagement Framework",subtitle:"Terms for ongoing client relationships",visibility:"public",starCount:"17K",metaValues:["Folder","1 minute ago","3 hours ago","3 days ago"]},{iconName:"file-text",title:"Non-poaching agreement",subtitle:"Prohibits hiring of competitor employees",visibility:"private",metaValues:["Folder","1 minute ago","1 day ago","3 days ago"]},{iconName:"file-text",title:"Coaching agreement",subtitle:"Terms for coaching services delivery",visibility:"private",metaValues:["Folder","1 minute ago","2 days ago","3 days ago"]},{iconName:"file-text",title:"Wedding Photography Contract",subtitle:"Contract for wedding photography services...",metaValues:["Folder","1 minute ago","3 days ago","3 days ago"]},{iconName:"folder",title:"Real Estate Documents",subtitle:"12 files in folder",metaValues:["Folder","2 minutes ago","1 hour ago","5 days ago"],starred:!0},{iconName:"file-text",title:"Freelance Retainer Agreement",subtitle:"Ongoing retainer terms for freelancers",visibility:"private",metaValues:["Document","5 minutes ago","2 hours ago","1 week ago"]},{iconName:"file-text",title:"Intellectual Property Assignment",subtitle:"Transfer of IP rights between parties",visibility:"public",starCount:"4.2K",metaValues:["Document","10 minutes ago","5 hours ago","2 weeks ago"]},{iconName:"file-text",title:"Data Processing Agreement",subtitle:"GDPR-compliant data processing terms",visibility:"public",starCount:"8.9K",metaValues:["Document","15 minutes ago","1 day ago","3 weeks ago"]},{iconName:"folder",title:"Tax Filings 2025",subtitle:"4 files in folder",metaValues:["Folder","30 minutes ago","2 days ago","1 month ago"]},{iconName:"file-text",title:"Software Licence Agreement",subtitle:"End-user licence for SaaS products",visibility:"shared",metaValues:["Document","1 hour ago","3 days ago","2 months ago"]}],be=a=>Z.map(o=>({id:o.id,label:o.label,selected:o.id===a})),P=[{type:"folder",title:"Service Contract Template",filesCount:8,files:[{id:"1",name:"Service Design Agreement"},{id:"2",name:"Client Engagement Contract"},{id:"3",name:"Non-Disclosure Agreement"},{id:"4",name:"Consulting Services Agreement"},{id:"5",name:"Consulting Services Agreement"},{id:"6",name:"Non-Disclosure Agreement"}]},{type:"file",title:"Design Services Agreement",description:"Explains how Mozilla handles minimal personal data for Facebook pages, with no sharing without consent.",ownerName:"Alex Carter",ownerInitials:"AC",visibility:"private"},{type:"file",title:"Mutual NDA",description:"Explains how Mozilla handles minimal personal data for Facebook pages, with no sharing without consent.",ownerName:"Open Legal Library",ownerInitials:"OL",visibility:"private"},{type:"file",title:"Client Engagement Framework",description:"Explains how Mozilla handles minimal personal data for Facebook pages, with no sharing without consent.",ownerName:"Open Legal Library",ownerInitials:"OL",visibility:"private"},{type:"file",title:"Project Collaboration Contract",description:"Explains how Mozilla handles minimal personal data for Facebook pages, with no sharing without consent.",ownerName:"Blake Logan",ownerInitials:"BL",visibility:"private"},{type:"file",title:"Design Services Agreement",description:"Explains how Mozilla handles minimal personal data for Facebook pages, with no sharing without consent.",ownerName:"John Titor",ownerInitials:"JT",visibility:"private"},{type:"file",title:"Creative Partnership Agreement",description:"Explains how Mozilla handles minimal personal data for Facebook pages, with no sharing without consent.",ownerName:"Open Legal Library",ownerInitials:"OL",visibility:"private"},{type:"file",title:"Service Contract Template",description:"Explains how Mozilla handles minimal personal data for Facebook pages, with no sharing without consent.",ownerName:"Alex Carter",ownerInitials:"AC",visibility:"private"},{type:"folder",title:"Real Estate Documents",filesCount:12,files:[{id:"r1",name:"Lease Agreement"},{id:"r2",name:"Property Inspection Report"},{id:"r3",name:"Title Deed Transfer"},{id:"r4",name:"Mortgage Application"},{id:"r5",name:"Tenant Screening Form"}]},{type:"file",title:"Freelance Retainer Agreement",description:"Standard retainer terms for ongoing freelance engagements with monthly billing cycles.",ownerName:"Sam Rivera",ownerInitials:"SR",visibility:"private"},{type:"file",title:"IP Assignment Agreement",description:"Transfers intellectual property rights from contractor to company upon project completion.",ownerName:"Alex Carter",ownerInitials:"AC",visibility:"public"},{type:"file",title:"Data Processing Agreement",description:"GDPR-compliant terms for processing personal data on behalf of data controllers.",ownerName:"Open Legal Library",ownerInitials:"OL",visibility:"public"},{type:"file",title:"Software Licence Agreement",description:"End-user licence for SaaS products covering usage rights, limitations, and support terms.",ownerName:"Blake Logan",ownerInitials:"BL",visibility:"shared"}],we=()=>s.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50",children:s.jsx(fe,{variant:"primary",size:"l",showLeftIcon:!0,leftIconName:"layout-grid",children:"Browse templates"})}),ve=a=>{if(a)return{position:"fixed",left:Math.min(a.startX,a.endX),top:Math.min(a.startY,a.endY),width:Math.abs(a.endX-a.startX),height:Math.abs(a.endY-a.startY),backgroundColor:"rgba(94, 73, 214, 0.1)",border:"2px solid rgba(94, 73, 214, 0.5)",borderRadius:"4px",pointerEvents:"none",zIndex:50}},ye=[{icon:"trash-2",label:"Delete"},{icon:"arrow-down-to-line",label:"Download"},{icon:"folder-input",label:"Move"}],U=250,Ce=()=>{const a="inline",[o,h]=i.useState("list"),[l,r]=i.useState(new Set),[b,w]=i.useState(new Set(k.map((e,t)=>e.starred?t:-1).filter(e=>e>=0))),[N,p]=i.useState("Updated"),[c,v]=i.useState("desc"),[L,A]=i.useState(null),R=i.useRef(null),V=i.useRef(new Map),O=i.useRef(new Map),Y=5,y=i.useRef(null),C=i.useRef(!1),D=i.useRef(0),m=i.useRef(null),{cols:I}=he(R),[ee,te]=i.useState(!1);i.useEffect(()=>{const e=R.current;if(!e)return;const t=new ResizeObserver(n=>{var u;const d=((u=n[0])==null?void 0:u.contentRect.width)??0;te(d<592)});return t.observe(e),()=>t.disconnect()},[]);const E=o==="list"?k.length:P.length,g=l.size>0,T=l.size===E,ie=T?"on":g?"semi":"off",ne=i.useCallback(()=>{h(e=>e==="list"?"grid":"list"),r(new Set)},[]),z=[{icon:"search"},{icon:"arrow-down-wide-narrow"},{icon:o==="list"?"layout-grid":"layout-list",onClick:ne},{icon:"plus"}];i.useEffect(()=>{const e=t=>{t.key==="Escape"&&r(new Set)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);const S=i.useCallback(e=>{r(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},[]),se=i.useCallback(()=>{r(T?new Set:new Set(Array.from({length:E},(e,t)=>t)))},[T,E]),ae=i.useCallback(e=>{w(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},[]),oe=i.useCallback(e=>{const t=Date.now(),n=t-D.current;n<U&&n>0?(m.current&&(clearTimeout(m.current),m.current=null),D.current=0,alert(`Opening: ${k[e].title}`)):(D.current=t,m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{S(e),m.current=null},U))},[S]),re=i.useCallback(e=>S(e),[S]),le=i.useCallback(e=>{alert(`Opening: ${P[e].title}`)},[]),ce=i.useCallback((e,t)=>{p(e),v(t)},[]),X=i.useCallback(e=>{const t=Math.min(e.startX,e.endX),n=Math.max(e.startX,e.endX),d=Math.min(e.startY,e.endY),u=Math.max(e.startY,e.endY),j=o==="list"?V:O,B=new Set;return j.current.forEach((H,de)=>{if(!H)return;const x=H.getBoundingClientRect();!(x.right<t||x.left>n||x.bottom<d||x.top>u)&&B.add(de)}),B},[o]),me=i.useCallback(e=>{if(e.pointerType==="touch")return;const t=e.target;t.closest("button")||t.closest("a")||t.closest("input")||t.closest("[role='checkbox']")||(y.current={x:e.clientX,y:e.clientY},C.current=!1)},[]),F=i.useCallback(e=>{if(!y.current)return;const{x:t,y:n}=y.current;if(!C.current){const u=e.clientX-t,j=e.clientY-n;if(Math.abs(u)<Y&&Math.abs(j)<Y)return;C.current=!0,r(new Set),A({startX:t,startY:n,endX:e.clientX,endY:e.clientY});return}const d={startX:t,startY:n,endX:e.clientX,endY:e.clientY};A(d),r(X(d))},[X]),M=i.useCallback(()=>{y.current=null,C.current=!1,A(null)},[]);return i.useEffect(()=>(document.addEventListener("mousemove",F),document.addEventListener("mouseup",M),()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",M)}),[F,M]),s.jsx(Q,{title:"Files",initialSidebarCollapsed:!0,showHeaderStroke:!0,mobileNavItems:be("recent"),mobileNavActiveLabel:"Recent",children:s.jsx("div",{className:`-mx-6 md:-mx-[84px] -mt-8 -mb-16 px-6 md:px-[84px] pt-8 pb-16 min-h-full ${L?"select-none":""}`,onPointerDown:me,children:s.jsxs("div",{className:"flex gap-6",children:[s.jsx(ue,{activeAccount:_[0],accounts:_,items:Z,activeItemId:"recent",className:"hidden md:flex"}),s.jsxs("div",{ref:R,className:"relative flex-1 min-w-0 @container",children:[L&&s.jsx("div",{style:ve(L)}),s.jsx(pe,{mode:g?"edit":"default",editLayout:a,label:"234 files",actions:g&&a==="inline"?z.filter(e=>e.icon!=="plus"):z,editActions:ye}),o==="list"&&s.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[I>0&&s.jsx(K,{type:"header",cols:I,headerLabels:["Name","Type","Last viewed","Updated","Created"],sortColumn:N,sortDirection:c,onSortChange:ce,selectMode:g,selectStatus:ie,selectedCount:l.size,onSelectAllClick:se}),k.map((e,t)=>s.jsx("div",{ref:n=>{n&&V.current.set(t,n)},"data-row":"true",children:s.jsx(K,{type:"item",cols:I,iconName:e.iconName,title:e.title,subtitle:e.subtitle,visibility:e.visibility,starCount:e.starCount,spam:e.spam,metaValues:e.metaValues,starred:b.has(t),selected:l.has(t),onClick:()=>oe(t),onStarClick:()=>ae(t)})},t))]}),o==="grid"&&s.jsx("div",{className:"mt-4 grid grid-cols-1 gap-2 @sm:grid-cols-2 @[592px]:grid-cols-[repeat(auto-fill,minmax(12rem,1fr))] @2xl:gap-3",children:P.map((e,t)=>s.jsx("div",{ref:n=>{n&&O.current.set(t,n)},"data-card":"true",children:s.jsx(ge,{type:e.type,title:e.title,description:e.description,ownerName:e.ownerName,ownerInitials:e.ownerInitials,visibility:e.visibility,filesCount:e.filesCount,files:e.files,compact:ee,selected:l.has(t),onClick:()=>re(t),onDoubleClick:()=>le(t)})},t))}),!g&&s.jsx(we,{})]})]})})})},f={render:()=>s.jsx(Ce,{})};var W,G,$,J,q;f.parameters={...f.parameters,docs:{...(W=f.parameters)==null?void 0:W.docs,source:{originalSource:`{
  render: () => <InteractiveFileList />
}`,...($=(G=f.parameters)==null?void 0:G.docs)==null?void 0:$.source},description:{story:`Interactive file list page with view switching and selection.

**View switching:** Click the grid icon to toggle between list and card views.

**Selection:** Single-click a row/card to select (250ms debounce).
Double-click to open. Rubber band drag to multi-select.

**Edit mode:** When items are selected, ListHeader shows edit action
buttons inline on the left. Table header checkbox shows selection count.`,...(q=(J=f.parameters)==null?void 0:J.docs)==null?void 0:q.description}}};const _e=["Default"];export{f as Default,_e as __namedExportsOrder,Ke as default};
