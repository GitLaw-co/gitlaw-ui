import{j as e}from"./jsx-runtime-DiklIkkE.js";import{r as l,R as z}from"./index-DRjF_FHU.js";import{I as r}from"./Icon-CGgPBvn_.js";import{B as G}from"./Badge-BTb2MvAY.js";import{B as F}from"./Button-DquhqAJK.js";import{D as J}from"./Dropdown-CCxXfqYx.js";import{T as K}from"./Tooltip-p54vDDUe.js";import{c as i}from"./colors-CUQOl70L.js";const D=({files:u,onFileClick:s,className:f=""})=>e.jsx("div",{className:`
        bg-card rounded-lg shadow-card
        flex flex-col gap-px p-2
        min-w-[280px]
        ${f}
      `,children:u.map(o=>e.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s(o),className:`
            flex items-center gap-2 p-3 min-h-[48px]
            hover:bg-secondary/30 rounded transition-colors duration-fast ease-gitlaw
            w-full text-left
          `,children:[e.jsx(r,{name:"file-text",className:"size-6 shrink-0",color:i.iconPrimary}),e.jsx("span",{className:"flex-1 text-base font-normal text-foreground leading-[1.4]",children:o.name}),o.isSelected&&e.jsx(r,{name:"check",className:"size-5 shrink-0",color:i.iconPrimary})]},o.id))});D.__docgenInfo={description:`FileDropdown - Dropdown menu showing a list of files

Used in TopHeader to show attached/available files.
Shows document icon, file name, and checkmark for selected file.`,methods:[],displayName:"FileDropdown",props:{files:{required:!0,tsType:{name:"Array",elements:[{name:"FileItem"}],raw:"FileItem[]"},description:"List of files to display"},onFileClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: FileItem) => void",signature:{arguments:[{type:{name:"FileItem"},name:"file"}],return:{name:"void"}}},description:"Callback when a file is clicked"},className:{required:!1,tsType:{name:"string"},description:"Additional CSS classes",defaultValue:{value:'""',computed:!1}}}};const Q=({title:u,breadcrumbs:s=[],showStroke:f=!0,showFiles:o=!1,fileCount:N=0,isSignedIn:$=!0,isLanding:a=!1,showMenu:V=!1,onTitleClick:X,onFilesClick:h,files:k=[],selectedFileId:A,onFileSelect:g,onMenuClick:B,onLoginClick:E,onSignUpClick:M,mobileNavItems:v,mobileNavActiveLabel:T,className:O=""})=>{const[c,x]=l.useState(!1),b=l.useRef(null),[m,C]=l.useState(!1),y=l.useRef(null);l.useEffect(()=>{if(!c)return;const t=n=>{b.current&&!b.current.contains(n.target)&&x(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[c]),l.useEffect(()=>{if(!m)return;const t=n=>{y.current&&!y.current.contains(n.target)&&C(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[m]);const P=()=>{k.length>0?x(!c):h==null||h()},R=t=>{x(!1),g==null||g(t)},H=a?"bg-landing":"bg-page-background",p=a?"text-negative":"text-link",I=a?i.iconNegative:i.iconPrimary,L=a?"text-negative/60":"text-secondary",q=v&&v.length>0&&T,d=a?i.iconNegative:i.iconPrimary,w=()=>q?e.jsxs("div",{className:"flex items-center gap-0.5 md:hidden",children:[e.jsx(r,{name:"chevron-right",className:"size-5",color:d}),e.jsxs("button",{type:"button",onClick:()=>C(t=>!t),className:`flex items-center gap-0.5 text-base font-normal ${p}`,children:[T,e.jsx(r,{name:m?"chevron-up":"chevron-down",className:"size-5",color:d})]})]}):null,_=()=>{if(u&&s.length===0)return e.jsxs("div",{className:"flex items-center gap-0.5 min-w-0",children:[e.jsx("span",{className:`text-base font-normal ${a?"text-negative":"text-primary"} text-left truncate`,children:u}),w()]});if(s.length===0)return null;if(s.length<=3)return e.jsxs("div",{className:"flex items-center gap-0.5",children:[s.map((n,j)=>e.jsxs(z.Fragment,{children:[e.jsx("button",{type:"button",onClick:n.onClick,className:`text-base font-normal ${p} hover:underline`,children:n.label}),j<s.length-1&&e.jsx(r,{name:"chevron-right",className:"size-5",color:d})]},n.id)),w()]});const t=s.slice(-2);return e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("button",{type:"button",className:`text-base font-normal ${L} hover:${p}`,title:"View all levels",children:"..."}),e.jsx(r,{name:"chevron-right",className:"size-5",color:d}),t.map((n,j)=>e.jsxs(z.Fragment,{children:[e.jsx("button",{type:"button",onClick:n.onClick,className:`text-base font-normal ${p} hover:underline`,children:n.label}),j<t.length-1&&e.jsx(r,{name:"chevron-right",className:"size-5",color:d})]},n.id)),w()]})},S=k.map(t=>({...t,isSelected:t.id===A})),U=()=>e.jsx("div",{className:"flex items-center gap-1",children:o&&e.jsxs("div",{ref:b,className:"relative",children:[e.jsx(K,{content:"Files",size:"m",type:"neutral",disabled:c,children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{type:"button",onClick:P,className:"size-10 flex items-center justify-center rounded hover:bg-secondary/30 transition-colors duration-fast ease-gitlaw","aria-label":"Files",children:e.jsx(r,{name:"file-text",className:"size-6",color:I})}),N>1&&e.jsx("div",{className:"absolute -top-1 -right-1",children:e.jsx(G,{type:"primary",count:N,showNumber:!0})})]})}),S.length>0&&e.jsx("div",{className:`
                absolute top-full right-0 mt-2 z-50
                transition-[opacity,transform] duration-fast ease-gitlaw origin-top-right
                ${c?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}
              `,children:e.jsx(D,{files:S,onFileClick:R})})]})}),W=()=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(F,{variant:"ghost",size:"m",onClick:E,children:"Log In"}),e.jsx(F,{variant:"primary",size:"m",onClick:M,children:"Sign Up"})]});return e.jsxs("header",{className:`
        h-16 w-full
        flex items-center gap-2 px-4 py-1.5
        ${H}
        ${f&&!a?"border-b-dashed":""}
        ${O}
      `,children:[e.jsxs("div",{ref:y,className:"flex-1 flex items-center justify-start gap-1 min-w-0 relative",children:[V&&e.jsx("button",{type:"button",onClick:B,className:`
              size-10 flex items-center justify-center rounded
              transition-colors duration-fast ease-gitlaw shrink-0
              ${a?"hover:bg-white/10":"hover:bg-secondary/30 md:hidden"}
            `,"aria-label":"Menu",children:e.jsx(r,{name:"menu",className:"size-6",color:a?i.iconNegative:I})}),_(),q&&e.jsx("div",{className:"absolute top-full left-0 pt-3 z-50 md:hidden",children:e.jsx(J,{items:v,showIcons:!1,isOpen:m})})]}),e.jsx("div",{className:"flex items-center h-[52px] shrink-0 relative",children:$?U():W()})]})};Q.__docgenInfo={description:`TopHeader component - Main page header with breadcrumb navigation and actions

Features:
- Simple title or multi-level breadcrumb navigation
- Breadcrumbs auto-collapse with "..." when more than 3 levels
- Files button with optional count badge
- Landing page variant with purple background
- Logged out state with login/signup buttons`,methods:[],displayName:"TopHeader",props:{title:{required:!1,tsType:{name:"string"},description:"Page title (simple single-level navigation)"},breadcrumbs:{required:!1,tsType:{name:"Array",elements:[{name:"BreadcrumbItem"}],raw:"BreadcrumbItem[]"},description:"Breadcrumb items for multi-level navigation",defaultValue:{value:"[]",computed:!1}},showStroke:{required:!1,tsType:{name:"boolean"},description:"Show bottom border/stroke",defaultValue:{value:"true",computed:!1}},showFiles:{required:!1,tsType:{name:"boolean"},description:"Show files icon button",defaultValue:{value:"false",computed:!1}},fileCount:{required:!1,tsType:{name:"number"},description:"Number of files (shown as badge when > 1)",defaultValue:{value:"0",computed:!1}},isSignedIn:{required:!1,tsType:{name:"boolean"},description:"Whether user is signed in",defaultValue:{value:"true",computed:!1}},isLanding:{required:!1,tsType:{name:"boolean"},description:"Whether this is the landing page variant (purple background)",defaultValue:{value:"false",computed:!1}},showMenu:{required:!1,tsType:{name:"boolean"},description:"Show hamburger menu (for logged out landing)",defaultValue:{value:"false",computed:!1}},onTitleClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Click handler for title/breadcrumb"},onFilesClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Click handler for files button (deprecated - use files array instead)"},files:{required:!1,tsType:{name:"Array",elements:[{name:"FileItem"}],raw:"FileItem[]"},description:"List of files to show in dropdown",defaultValue:{value:"[]",computed:!1}},selectedFileId:{required:!1,tsType:{name:"string"},description:"ID of currently selected/open file"},onFileSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: FileItem) => void",signature:{arguments:[{type:{name:"FileItem"},name:"file"}],return:{name:"void"}}},description:"Callback when a file is selected from dropdown"},onMenuClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Click handler for menu button"},onLoginClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Click handler for login button"},onSignUpClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Click handler for sign up button"},mobileNavItems:{required:!1,tsType:{name:"Array",elements:[{name:"DropdownItem"}],raw:"DropdownItem[]"},description:"Page-nav items for mobile dropdown (shown below last breadcrumb on mobile)"},mobileNavActiveLabel:{required:!1,tsType:{name:"string"},description:'Active page-nav item label (e.g. "Profile") â€” appended as last breadcrumb on mobile'},className:{required:!1,tsType:{name:"string"},description:"Additional CSS classes",defaultValue:{value:'""',computed:!1}}}};export{Q as T};
