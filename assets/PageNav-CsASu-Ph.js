import{j as t}from"./jsx-runtime-DiklIkkE.js";import{r as d}from"./index-DRjF_FHU.js";import{M as m}from"./MenuItem-Dv70_nnm.js";import{A as g}from"./Avatar-fRZogy1Q.js";const x=({activeAccount:r,accounts:u,items:p,activeItemId:f,onItemClick:n,onAccountSwitch:s,className:y=""})=>{const[i,o]=d.useState(!1),l=d.useRef(null);d.useEffect(()=>{if(!i)return;const e=a=>{l.current&&!l.current.contains(a.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[i]);const v=e=>{o(!1),s==null||s(e)},c=e=>t.jsx(g,{type:e.avatar?"image":"initials",src:e.avatar,initials:e.initials,size:"M"});return t.jsxs("div",{className:`flex flex-col w-[224px] ${y}`,children:[t.jsxs("div",{ref:l,className:"relative",children:[t.jsx(m,{primaryText:r.name,secondaryText:r.type,showSecondaryText:!0,showLeftElement:!0,leftIcon:c(r),showRIcon1:!0,rIcon1:"chevron-down",width:"fill",onClick:()=>o(!0)}),t.jsx("div",{className:`
            absolute -top-3 -left-3 z-50
            bg-card rounded-lg shadow-card p-3
            w-[calc(100%+24px)]
            transition-[opacity,transform] duration-fast ease-gitlaw origin-top
            ${i?"opacity-100 scale-y-100":"opacity-0 scale-y-95 pointer-events-none"}
          `,children:[r,...u.filter(e=>e.id!==r.id).sort((e,a)=>e.type==="Personal Account"?-1:a.type==="Personal Account"?1:e.name.localeCompare(a.name))].map(e=>t.jsx(m,{primaryText:e.name,secondaryText:e.type,showSecondaryText:!0,showLeftElement:!0,leftIcon:c(e),width:"fill",onClick:()=>v(e)},e.id))})]}),t.jsx("div",{className:"flex flex-col",children:p.map(e=>{const a=e.id===f;return t.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(e),className:`
                relative flex items-center w-full min-h-[48px] px-3 py-3 text-left
                text-sm font-normal leading-[1.4] text-primary
                transition-colors duration-fast ease-gitlaw
                cursor-pointer
                ${a?"bg-secondary rounded":"hover:bg-secondary/30 rounded"}
              `,children:e.label},e.id)})})]})};x.__docgenInfo={description:"",methods:[],displayName:"PageNav",props:{activeAccount:{required:!0,tsType:{name:"PageNavAccount"},description:"Currently selected account"},accounts:{required:!0,tsType:{name:"Array",elements:[{name:"PageNavAccount"}],raw:"PageNavAccount[]"},description:"All available accounts for the context switcher"},items:{required:!0,tsType:{name:"Array",elements:[{name:"PageNavItem"}],raw:"PageNavItem[]"},description:"Navigation items to display"},activeItemId:{required:!1,tsType:{name:"string"},description:"Currently active nav item id"},onItemClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: PageNavItem) => void",signature:{arguments:[{type:{name:"PageNavItem"},name:"item"}],return:{name:"void"}}},description:"Callback when a nav item is clicked"},onAccountSwitch:{required:!1,tsType:{name:"signature",type:"function",raw:"(account: PageNavAccount) => void",signature:{arguments:[{type:{name:"PageNavAccount"},name:"account"}],return:{name:"void"}}},description:"Callback when account is switched"},className:{required:!1,tsType:{name:"string"},description:"Additional CSS classes",defaultValue:{value:'""',computed:!1}}}};export{x as P};
