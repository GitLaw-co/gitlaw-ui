import{j as e}from"./jsx-runtime-DiklIkkE.js";import{r as g}from"./index-DRjF_FHU.js";import{I as t}from"./Icon-CfPs8lnx.js";import{S as N}from"./StarIcon-BtetS-2M.js";import{c as s}from"./colors-CUQOl70L.js";const c="size-5",L=({type:T="file",title:h,description:v,ownerName:u,ownerInitials:q,ownerAvatar:y,visibility:b="private",organizationName:z,starred:j=!1,selected:I=!1,filesCount:V=0,files:O=[],onClick:l,onDoubleClick:o,onStarClick:n,onMenuClick:i,onFileClick:m,doubleClickThreshold:p=250,compact:w=!1,className:P=""})=>{const f=T==="folder",x=g.useRef(0),r=g.useRef(null),k=g.useCallback(()=>{const a=Date.now(),d=a-x.current;d<p&&d>0?(r.current&&(clearTimeout(r.current),r.current=null),x.current=0,o==null||o()):(x.current=a,r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{l==null||l(),r.current=null},p))},[l,o,p]),S=()=>{switch(b){case"private":return"Private";case"public":return"Public";case"shared":return"Shared";case"organization":return z||"Organization";default:return"Private"}},F=()=>{switch(b){case"private":return e.jsx(t,{name:"lock",className:"size-6 shrink-0",color:s.iconSecondary});case"public":return e.jsx(t,{name:"earth",className:"size-6 shrink-0",color:s.iconSecondary});case"shared":return e.jsx(t,{name:"users-round",className:"size-6 shrink-0",color:s.iconSecondary});case"organization":return e.jsx(t,{name:"building-2",className:"size-6 shrink-0",color:s.iconSecondary});default:return e.jsx(t,{name:"lock",className:"size-6 shrink-0",color:s.iconSecondary})}},R=()=>e.jsxs("div",{className:"flex flex-col gap-4 w-full h-full",children:[e.jsxs("div",{className:"flex items-center justify-between w-full",children:[u&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"size-6 rounded bg-primary flex items-center justify-center shrink-0",children:y?e.jsx("img",{src:y,alt:u,className:"w-full h-full object-cover rounded"}):e.jsx("span",{className:"text-[10px] font-black text-negative",children:q})}),e.jsx("span",{className:"text-xs font-normal text-foreground leading-[1.4]",children:u})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:a=>{a.stopPropagation(),n==null||n()},className:"p-1 hover:bg-secondary rounded transition-colors duration-fast ease-gitlaw hidden @[200px]:block",children:e.jsx(N,{starred:j,className:c})}),e.jsx("button",{type:"button",onClick:a=>{a.stopPropagation(),i==null||i()},className:"p-1 hover:bg-secondary rounded transition-colors duration-fast ease-gitlaw",children:e.jsx(t,{name:"ellipsis",className:c,color:s.iconSecondary})})]})]}),e.jsx("h3",{className:"font-serif text-2xl font-normal text-foreground leading-[1.4]",children:h}),v&&e.jsx("p",{className:"text-sm font-normal text-subtle leading-[1.4]",children:v})]}),E=()=>e.jsxs("div",{className:"flex flex-col gap-3 w-full h-full",children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx(t,{name:"folder-closed",className:"size-6 shrink-0",color:s.iconPrimary}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-normal text-foreground leading-[1.4] truncate",children:h}),e.jsxs("span",{className:"text-xs font-normal text-subtle leading-[1.4] hidden @[200px]:block",children:[V," files"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx("button",{type:"button",onClick:a=>{a.stopPropagation(),n==null||n()},className:"p-1 hover:bg-secondary rounded transition-colors duration-fast ease-gitlaw hidden @[200px]:block",children:e.jsx(N,{starred:j,className:c})}),e.jsx("button",{type:"button",onClick:a=>{a.stopPropagation(),i==null||i()},className:"p-1 hover:bg-secondary rounded transition-colors duration-fast ease-gitlaw",children:e.jsx(t,{name:"ellipsis",className:c,color:s.iconSecondary})})]})]}),e.jsx("div",{className:"w-full h-px bg-border"}),e.jsx("div",{className:"flex flex-col w-full flex-1 overflow-hidden",children:O.slice(0,6).map(a=>e.jsxs("div",{className:"flex items-center gap-2 min-h-12 p-3 hover:bg-secondary/50 transition-colors duration-fast ease-gitlaw cursor-pointer",onClick:d=>{d.stopPropagation(),m==null||m(a)},children:[e.jsx(t,{name:"file-text",className:"size-6 shrink-0",color:s.iconDisabled}),e.jsx("span",{className:"text-base font-normal text-foreground truncate",children:a.name})]},a.id))})]});return e.jsxs("div",{className:`
        @container bg-card rounded-lg shadow-card overflow-hidden relative cursor-pointer
        w-full ${w?"":"min-w-48 max-w-64"}
        p-4 @[200px]:p-6
        transition-shadow duration-fast ease-gitlaw
        ${P}
      `,style:{aspectRatio:w?"1/1":"3/4"},onClick:k,"data-card":"true",children:[f?E():R(),!f&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[68px] pointer-events-none",style:{background:"linear-gradient(to bottom, transparent 0%, white 16px, white 100%)"},children:e.jsxs("div",{className:"absolute bottom-4 @[200px]:bottom-6 left-0 right-0 px-4 @[200px]:px-6 flex items-center gap-2",children:[F(),e.jsx("span",{className:"text-sm font-normal text-subtle leading-[1.4]",children:S()})]})}),f&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-11 pointer-events-none",style:{background:"linear-gradient(to top, white 0%, transparent 100%)"}}),I&&e.jsx("div",{className:"absolute inset-0 rounded-lg pointer-events-none",style:{boxShadow:`inset 0 0 0 2px ${s.primary}`}})]})};L.__docgenInfo={description:"",methods:[],displayName:"Card",props:{type:{required:!1,tsType:{name:"union",raw:'"file" | "template" | "folder"',elements:[{name:"literal",value:'"file"'},{name:"literal",value:'"template"'},{name:"literal",value:'"folder"'}]},description:"Card type - file, template (same format), or folder",defaultValue:{value:'"file"',computed:!1}},title:{required:!0,tsType:{name:"string"},description:"Card title"},description:{required:!1,tsType:{name:"string"},description:"Card description (for file/template)"},ownerName:{required:!1,tsType:{name:"string"},description:"Owner name"},ownerInitials:{required:!1,tsType:{name:"string"},description:"Owner initials"},ownerAvatar:{required:!1,tsType:{name:"string"},description:"Owner avatar URL"},visibility:{required:!1,tsType:{name:"union",raw:'"private" | "public" | "shared" | "organization"',elements:[{name:"literal",value:'"private"'},{name:"literal",value:'"public"'},{name:"literal",value:'"shared"'},{name:"literal",value:'"organization"'}]},description:"Visibility status",defaultValue:{value:'"private"',computed:!1}},organizationName:{required:!1,tsType:{name:"string"},description:"Organization name (required when visibility is 'organization')"},starred:{required:!1,tsType:{name:"boolean"},description:"Whether card is starred",defaultValue:{value:"false",computed:!1}},selected:{required:!1,tsType:{name:"boolean"},description:"Whether card is selected",defaultValue:{value:"false",computed:!1}},filesCount:{required:!1,tsType:{name:"number"},description:"Files count (for folder)",defaultValue:{value:"0",computed:!1}},files:{required:!1,tsType:{name:"Array",elements:[{name:"CardFileItem"}],raw:"CardFileItem[]"},description:"Files in folder (for folder type)",defaultValue:{value:"[]",computed:!1}},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"On card click (single click selects)"},onDoubleClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"On card double click (opens document/folder)"},onStarClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"On star click"},onMenuClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"On menu click"},onFileClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: CardFileItem) => void",signature:{arguments:[{type:{name:"CardFileItem"},name:"file"}],return:{name:"void"}}},description:"On file click within folder"},doubleClickThreshold:{required:!1,tsType:{name:"number"},description:"Double click threshold in ms (default: 250ms)",defaultValue:{value:"250",computed:!1}},compact:{required:!1,tsType:{name:"boolean"},description:"Compact mode â€” square (1:1), full-width, no min/max-w constraints. Use for mobile / narrow grids.",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:"Additional CSS classes",defaultValue:{value:'""',computed:!1}}}};export{L as C};
