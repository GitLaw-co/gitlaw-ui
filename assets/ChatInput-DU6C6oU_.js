import{j as e}from"./jsx-runtime-DiklIkkE.js";import{r as a}from"./index-DRjF_FHU.js";import{r as U}from"./index-DIvcuAjW.js";import{I as o}from"./Icon-CGgPBvn_.js";import{T as V}from"./Tooltip-p54vDDUe.js";import{c as u}from"./colors-CUQOl70L.js";const X=[{id:"draft",label:"Draft",icon:"draft"},{id:"review",label:"Review",icon:"review"},{id:"summarize",label:"Summarize",icon:"summarize"}],Y={draft:"Draft a new document",review:"Review a document",summarize:"Summarize a document"},Z=["Draft a mutual NDA","Review my service contract","Summarize this agreement","Create a privacy policy","Help me with licensing terms"],S=({icon:s})=>{switch(s){case"draft":return e.jsx(o,{name:"file-plus",className:"size-4",color:u.iconPrimary});case"review":return e.jsx(o,{name:"file-search",className:"size-4",color:u.iconPrimary});case"summarize":return e.jsx(o,{name:"align-left",className:"size-4",color:u.iconPrimary});default:return null}},E=({icon:s,onClick:x})=>e.jsx("button",{type:"button",onClick:x,className:"p-1 hover:bg-secondary rounded transition-colors duration-fast ease-gitlaw",children:e.jsx(o,{name:s,className:"size-6",color:u.iconPrimary})}),C=({status:s="active",size:x="l",placeholder:q,animatedPlaceholders:d=Z,placeholderInterval:T=3e3,value:g="",showQuickActions:O=!0,quickActions:Q=X,onChange:y,onSubmit:L,onQuickActionClick:h,onAttachmentClick:B,onSettingsClick:l,onStopClick:H,className:z="",fullWidth:A=!1,showSettingsDropdown:n=!1,settingsDropdownContent:c,settingsDropdownPosition:m="top",onSettingsDropdownClose:i})=>{const M=s==="working",w=s==="populated"||g.length>0,p=x==="l",b=a.useRef(null),f=a.useRef(null),[W,j]=a.useState(!1),[v,k]=a.useState(null),[_,J]=a.useState(0),[F,I]=a.useState(!1);a.useEffect(()=>{if(!n)return;const t=r=>{b.current&&!b.current.contains(r.target)&&(i==null||i())};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[n,i]),a.useEffect(()=>{c&&f.current&&(()=>{if(f.current){const r=f.current.getBoundingClientRect();k(m==="top"?{top:r.top-8,left:r.left}:{top:r.bottom+8,left:r.left})}})()},[n,m,c]);const N=!q&&d.length>0,G=N?d[_]:q||"Draft a mutual NDA";a.useEffect(()=>{if(!N||w)return;const t=setInterval(()=>{I(!0),setTimeout(()=>{J(r=>(r+1)%d.length),I(!1)},200)},T);return()=>clearInterval(t)},[N,w,d.length,T]);const R=p?"p-6":"p-4",K=p?"gap-6":"gap-4",P=p?"rounded-xl":"rounded-lg",$=p?"text-lg":"text-base";return M?e.jsx("div",{className:`
          bg-white border border-border ${P}
          shadow-card
          flex flex-col ${R}
          w-full ${A?"":"max-w-[624px]"}
          ${z}
        `,children:e.jsxs("div",{className:"flex items-center gap-2.5 p-4",children:[e.jsx("p",{className:"text-lg font-normal text-primary leading-[1.4]",children:"Working on your request..."}),e.jsx("button",{type:"button",onClick:H,className:"ml-auto p-1 hover:bg-secondary rounded transition-colors duration-fast ease-gitlaw",children:e.jsx(o,{name:"square",className:"size-6",color:u.iconPrimary})})]})}):e.jsxs("div",{className:`
        bg-white ${P}
        shadow-card
        flex flex-col ${K} ${R}
        w-full ${A?"":"max-w-[624px]"}
        ${z}
      `,children:[e.jsxs("div",{className:"flex items-center gap-2.5 w-full",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",value:g,onChange:t=>y==null?void 0:y(t.target.value),placeholder:"",className:`
              w-full ${$} font-normal leading-[1.4]
              text-foreground
              bg-transparent outline-none
            `}),!g&&e.jsx("span",{className:`
                absolute left-0 top-1/2 -translate-y-1/2
                ${$} font-normal leading-[1.4]
                text-purple-300 pointer-events-none
                transition-opacity duration-slow ease-gitlaw
                ${F?"opacity-0":"opacity-100"}
              `,children:G})]}),w&&e.jsx("button",{type:"button",onClick:L,className:`
              bg-primary hover:bg-primary-hover
              p-1 rounded transition-colors duration-fast ease-gitlaw shrink-0
            `,children:e.jsx(o,{name:"arrow-up",className:"size-6",color:u.iconNegative})})]}),e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(V,{content:"Add a file",type:"purple",position:"bottom",size:"s",children:e.jsx(E,{icon:"paperclip",onClick:B})}),e.jsxs("div",{ref:b,className:"relative inline-flex",onMouseEnter:()=>!n&&j(!0),onMouseLeave:()=>j(!1),children:[e.jsx("div",{ref:f,children:e.jsx(E,{icon:"settings-2",onClick:()=>{c&&n?i==null||i():l==null||l(),j(!1)}})}),W&&!n&&e.jsx("div",{className:`
                  absolute z-50 top-full left-1/2 -translate-x-1/2 mt-4
                  rounded-lg shadow-card bg-primary px-2 py-2
                  flex items-center whitespace-nowrap
                `,children:e.jsx("span",{className:"text-xs font-normal text-negative",children:"Jurisdiction and settings"})}),c&&v&&U.createPortal(e.jsx("div",{className:`
                  fixed z-[9999]
                  transition-[opacity,transform] duration-fast ease-gitlaw origin-bottom-left
                  ${n?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}
                `,style:{top:m==="top"?void 0:v.top,bottom:m==="top"?`calc(100vh - ${v.top}px)`:void 0,left:v.left},children:c}),document.body)]})]}),O&&e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2",children:Q.map(t=>e.jsx(V,{content:Y[t.icon]||t.label,type:"purple",position:"bottom",size:"s",children:e.jsxs("button",{type:"button",onClick:()=>h==null?void 0:h(t),className:`
                    bg-secondary hover:bg-secondary-hover
                    flex items-center gap-1 h-8 px-3 py-2 rounded
                    text-xs font-normal text-foreground-button leading-[1.4]
                    transition-colors duration-fast ease-gitlaw
                  `,children:[e.jsx(S,{icon:t.icon}),e.jsx("span",{children:t.label})]})},t.id))})]})]})};C.__docgenInfo={description:"",methods:[],displayName:"ChatInput",props:{status:{required:!1,tsType:{name:"union",raw:'"active" | "populated" | "working"',elements:[{name:"literal",value:'"active"'},{name:"literal",value:'"populated"'},{name:"literal",value:'"working"'}]},description:"Input status",defaultValue:{value:'"active"',computed:!1}},size:{required:!1,tsType:{name:"union",raw:'"l" | "m"',elements:[{name:"literal",value:'"l"'},{name:"literal",value:'"m"'}]},description:"Input size",defaultValue:{value:'"l"',computed:!1}},placeholder:{required:!1,tsType:{name:"string"},description:"Placeholder text (used if animatedPlaceholders is not provided)"},animatedPlaceholders:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"Array of placeholders to rotate through with animation",defaultValue:{value:`[
  "Draft a mutual NDA",
  "Review my service contract",
  "Summarize this agreement",
  "Create a privacy policy",
  "Help me with licensing terms",
]`,computed:!1}},placeholderInterval:{required:!1,tsType:{name:"number"},description:"Interval in ms between placeholder rotations (default: 3000)",defaultValue:{value:"3000",computed:!1}},value:{required:!1,tsType:{name:"string"},description:"Input value",defaultValue:{value:'""',computed:!1}},showQuickActions:{required:!1,tsType:{name:"boolean"},description:"Show quick actions",defaultValue:{value:"true",computed:!1}},quickActions:{required:!1,tsType:{name:"Array",elements:[{name:"QuickAction"}],raw:"QuickAction[]"},description:"Quick action items",defaultValue:{value:`[
  { id: "draft", label: "Draft", icon: "draft" },
  { id: "review", label: "Review", icon: "review" },
  { id: "summarize", label: "Summarize", icon: "summarize" },
]`,computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"On value change"},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"On submit"},onQuickActionClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(action: QuickAction) => void",signature:{arguments:[{type:{name:"QuickAction"},name:"action"}],return:{name:"void"}}},description:"On quick action click"},onAttachmentClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"On attachment click"},onSettingsClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"On settings click"},onStopClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"On stop click (when working)"},className:{required:!1,tsType:{name:"string"},description:"Additional CSS classes",defaultValue:{value:'""',computed:!1}},fullWidth:{required:!1,tsType:{name:"boolean"},description:"Allow input to fill full container width",defaultValue:{value:"false",computed:!1}},showSettingsDropdown:{required:!1,tsType:{name:"boolean"},description:"Show settings dropdown",defaultValue:{value:"false",computed:!1}},settingsDropdownContent:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Settings dropdown content"},settingsDropdownPosition:{required:!1,tsType:{name:"union",raw:'"top" | "bottom" | "left" | "right"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"left"'},{name:"literal",value:'"right"'}]},description:"Settings dropdown position",defaultValue:{value:'"top"',computed:!1}},onSettingsDropdownClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when clicking outside the dropdown to close it"}}};export{C};
